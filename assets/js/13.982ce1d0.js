(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{232:function(e,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念","aria-hidden":"true"}},[e._v("#")]),e._v(" 概念")]),e._v(" "),a("p",[e._v("通俗些说，就是各个微服务将自己的信息注册到server上，需要调用的时候从server中获取到其他微服务信息。")]),e._v(" "),a("p",[e._v("Spring Cloud提供了很多服务发现组件的支持，例如Eureka、Consul、Zookeeper等，本篇以Eureka为例，其他几个后续会逐个有介绍。")]),e._v(" "),a("h2",{attrs:{id:"eureka-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eureka-server","aria-hidden":"true"}},[e._v("#")]),e._v(" Eureka Server")]),e._v(" "),a("p",[e._v("Eureka Server是注册服务中心的服务端，启动完成是有界面的。新建项目的时候可以勾选上Cloud Discovery中的Eureka Server。当然也可以在pom.xml文件中手动添加上如下依赖。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>\n\t\t</dependency>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("在启动类中添加注解@EnableEurekaServer，声明这是一个Eureka Server。")]),e._v(" "),a("p",[e._v("在配置文件application.yml中内容为：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server:\n  port: 8080\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    service-url:\n      defaultZone: http://localhost:8080/eureka/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("其中，eureka.client.register-with-eureka 表示是否将自己注册到Eureka Server，默认为true。因为当前应用就是Eureka Server，所以需要设置成false。\neureka.client.fetch-registry 表示是否从Eureka Server获取注册信息，默认为true。因为本例是一个单点的Eureka Server，不需要同步其他Eureka Server节点数据，所以设置为false。\neureka.client. service-url. defaultZone 设置的是与Eureka Server的交互地址，查询和注册服务都依赖这个地址，如果有多个可以使用英文逗号分隔。")]),e._v(" "),a("p",[e._v("以上步骤完成后，直接启动即可，然后浏览器地址栏输入http://localhost:8080/eureka查看界面。因为目前还没有微服务注册上，所以会显示No instances available")]),e._v(" "),a("h2",{attrs:{id:"eureka-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eureka-client","aria-hidden":"true"}},[e._v("#")]),e._v(" Eureka Client")]),e._v(" "),a("p",[e._v("Eureka Client是注册服务中心的客户端，启动完成的时候可以在服务端界面上查看到信息。新建项目的时候可以勾选上Cloud  Discovery中的Eureka  Discovery，当然也可以在pom.xml文件中手动添加上依赖。需要注意的是，只添加一个client是不够的，因为启动需要tomcat的依赖，需要添加上web的引入，否则会出现以下错误")]),e._v(" "),a("p",[a("em",[e._v("Invocation of destroy method failed on bean with name  'scopedTarget.eurekaClient':  org.springframework.beans.factory.BeanCreationNotAllowedException: Error  creating bean with name 'eurekaInstanceConfigBean': Singleton bean  creation not allowed while singletons of this factory are in destruction  (Do not request a bean from a BeanFactory in a destroy method  implementation!)")])]),e._v(" "),a("p",[e._v("添加的依赖至少要有：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t  <groupId>org.springframework.boot</groupId>\n\t\t  <artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br")])]),a("p",[e._v("在启动类中添加注解@EnableDiscoveryClient，声明这是一个Eureka  Client。注解也可以使用@EnableEurekaClient，不同的是@EnableDiscoveryClient同时还可以作为Zookeeper、Consul中发现注解，作用范围更广一些。")]),e._v(" "),a("p",[e._v("在配置文件application.yml中内容为：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server:\n  port: 8081\nspring:\n  application:\n    name: eureka-client-1\neureka:\n  client:\n    service-url:\n      defaultZone: http://localhost:8080/eureka/\n  instance:\n    prefer-ip-address: true\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("其中，"),a("a",{attrs:{href:"http://spring.application.name",target:"_blank",rel:"noopener noreferrer"}},[e._v("spring.application.name"),a("OutboundLink")],1),e._v(" 用于指定注册服务到Eureka Server上的应用名称。\neureka.instance.prefer-ip-address 表示将自己的ip注册到Eureka Server上，如果是false的话会显示hostname而不是ip地址。")]),e._v(" "),a("p",[e._v("以上步骤完成后，直接启动即可，然后浏览器中查看server中是否多出来了刚刚启动的微服务。为了更便捷观察，本篇提供了两个client，仅仅是修改了启动的端口号和实例名称。")]),e._v(" "),a("h2",{attrs:{id:"高可用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高可用","aria-hidden":"true"}},[e._v("#")]),e._v(" 高可用")]),e._v(" "),a("p",[e._v("单节点的情况并不适用于生产环境，本节介绍如何做到集群化。如果是单台计算机，需要先修改hosts文件，比如mac电脑的hosts文件位于/etc/hosts，添加如下三行")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("127.0.0.1 peer1\n127.0.0.1 peer2\n127.0.0.1 peer3\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("如果是多台计算机，可以配置不同ip，而不用修改hosts。eureka.instance.prefer-ip-address=true是通过设置ip让eureka让其他服务注册它。")]),e._v(" "),a("p",[e._v("修改application.yml文件中的内容，配置不同profiles，作为启动时候选择参数。不同配置之间使用三个减号（---）分隔，当然也可以选择新建不同的application.yml文件，此处只写到一个文件中。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("spring:\n  application:\n    name: eureka-server-ha\neureka:\n  client:\n    register-with-eureka: false\n---\nspring: \n  profiles: peer1\nserver:\n  port: 9001\neureka:\n  instance:\n    hostname: peer1\n  client:\n    service-url: \n      defaultZone: http://peer2:9002/eureka/,http://peer3:9003/eureka\n---\nspring: \n  profiles: peer2\nserver:\n  port: 9002\neureka:\n  instance:\n    hostname: peer2\n  client:\n    service-url: \n      defaultZone: http://peer1:9001/eureka/,http://peer3:9003/eureka\n---\nspring: \n  profiles: peer3\nserver:\n  port: 9003\neureka:\n  instance:\n    hostname: peer3\n  client:\n    service-url: \n      defaultZone: http://peer2:9002/eureka/,http://peer1:9001/eureka\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br"),a("span",{staticClass:"line-number"},[e._v("31")]),a("br"),a("span",{staticClass:"line-number"},[e._v("32")]),a("br"),a("span",{staticClass:"line-number"},[e._v("33")]),a("br"),a("span",{staticClass:"line-number"},[e._v("34")]),a("br"),a("span",{staticClass:"line-number"},[e._v("35")]),a("br"),a("span",{staticClass:"line-number"},[e._v("36")]),a("br"),a("span",{staticClass:"line-number"},[e._v("37")]),a("br"),a("span",{staticClass:"line-number"},[e._v("38")]),a("br"),a("span",{staticClass:"line-number"},[e._v("39")]),a("br")])]),a("p",[e._v("在启动java类中添加注解@EnableEurekaServer。至此代码server的代码部分完成。")]),e._v(" "),a("p",[e._v("可以使用终端进入到项目目录，即pom.xml所在目录（或者使用Eclipse的Maven工具，效果一样），执行：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mvn clean package\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("如果控制台中有了SUCCESS字样则表示成功，然后可以查看target中是否有新生成的jar文件。在三个终端中分别执行以下命令")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("java -jar springcloud-2-eureka-server-ha-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer1\n\njava -jar springcloud-2-eureka-server-ha-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer2\n\njava -jar springcloud-2-eureka-server-ha-0.0.1-SNAPSHOT.jar --spring.profiles.active=peer3\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])]),a("p",[e._v("注意此处运行时会有错误提示，原因是多个server之间启动会和其他的通信，但是其他的还没启动。并不影响运行。如果要处理这个错误，可以尝试修改发送心跳的时间。")]),e._v(" "),a("p",[e._v("运行 http://localhost:9001http://localhost:9002http://localhost:9003 查看，均没有实例，但是在DS Replicas中能看到通信的其他server。")]),e._v(" "),a("p",[e._v("接下来实现客户端。高可用的客户端和一般的客户端是基本一致的，可以查看上面的Eureka Client，不同的地方是eureka.client.service-url.defaultZone除了可以只写任意一个server地址，也可以写多个，用逗号分隔即可。")]),e._v(" "),a("h2",{attrs:{id:"用户认证和健康检查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户认证和健康检查","aria-hidden":"true"}},[e._v("#")]),e._v(" 用户认证和健康检查")]),e._v(" "),a("p",[e._v("前述demo中，Eureka Server的web控制都是无密码直接访问的，这显示存在权限控制问题，本节实现提供账号密码才能登录的方式。同时简单描述了下如何开启健康检查。")]),e._v(" "),a("p",[e._v("先新建一个server，和前述的server基本一致，只是增加了一个security的引入，当然也可以手动添加。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-security</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-server</artifactId>\n\t\t</dependency>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("p",[e._v("修改application.yml文件中的内容，"),a("a",{attrs:{href:"http://xn--spring-9o7i562a0i8d.security.user.name",target:"_blank",rel:"noopener noreferrer"}},[e._v("添加上spring.security.user.name"),a("OutboundLink")],1),e._v(" 和 spring.security.user.password。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server:\n  port: 9010\neureka:\n  client:\n    register-with-eureka: false\n    fetch-registry: false\n    service-url:\n      defaultZone: http://localhost:9010/eureka/\nspring:\n  security:\n    user:\n      name: fymod\n      password: 123456\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("p",[e._v("在启动java类中添加注解@EnableEurekaServer。同时，spring cloud security 默认启用了csrf，需要关闭（新建一个类实现）")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("import org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n\t@Override\n\tprotected void configure(HttpSecurity http) throws Exception {\n\t\t\n\t\thttp.csrf().disable().authorizeRequests().anyRequest().authenticated().and().httpBasic();\n\t\tsuper.configure(http);\n\t\n\t}\n\t\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br")])]),a("p",[e._v("运行 http://localhost:9010 查看，需要输入配置的账号和密码。")]),e._v(" "),a("p",[e._v("接下来实现客户端。和普通的Eureka Client相比，只是eureka.client.service-url.dafaultZone中增加了用户名密码。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server:\n  port: 9011\nspring:\n  application:\n    name: eureka-client-auth\neureka:\n  client:\n    service-url:\n      defaultZone: http://fymod:123456@localhost:9010/eureka/\n  instance:\n    prefer-ip-address: true\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("启动客户端后，查看server，client已经成功注册进去了。并且状态是UP，表示正常。只要保持心跳状态，就会一直显示UP，如果要更加全面的检查，可以在client的application.yml中添加eureka.client.healthcheck.enable=true。完整的为")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("server:\n  port: 9011\nspring:\n  application:\n    name: eureka-client-auth\neureka:\n  client:\n    healthcheck: \n      enabled: true\n    service-url:\n      defaultZone: http://fymod:123456@localhost:9010/eureka/\n  instance:\n    prefer-ip-address: true\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br")])]),a("p",[e._v("同时，在pom.xml中引入actuator。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-actuator</artifactId>\n\t\t</dependency>\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])])])},[],!1,null,null,null);s.default=r.exports}}]);